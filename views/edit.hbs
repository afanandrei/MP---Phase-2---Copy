<html>
    <head>
        
        <title>Create a Recipe</title>
        <link rel="stylesheet" href="./css/add_style.css">
        <script>

            let addIngredientsBtn = document.getElementById('addIngredientsBtn');
            let ingredientList = document.querySelector('.ingredientList');
            let ingredientDiv = document.querySelectorAll('.ingredientDiv')[0];

            addIngredientsBtn.addEventListener('click', function()
            {
                let newIngredients = ingredientDiv.cloneNode(true);
                let input = newIngredients.getElementsByTagName('input')[0];
                input.value = '';
                ingredientList.appendChild(newIngredients);
            });


        </script>
    </head>

    <body>
        <div class = 'center'>
            <h4> Create a Recipe</h4><br>
            {{#with recipe}}
                <form action = "/update/{{_id}}" encType="multipart/form-data" method = "POST">
                    {{!-- TITLE --}}
                    {{!-- <label for ="title" class = "form-label">Title:</label> --}}
                    <h5>Title:</h5>
                    <input type = "text" name = "title" id = "title" class ="txt" placeholder = "{{this.title}}" />
                    <br>

                    {{!-- DESCRIPTION --}}
                    <h5>Description:</h5>
                    <textarea name = "description" id = "description" class = "txt" placeholder = "{{description}}" ></textarea>
                    <br>

                    {{!-- IMAGE --}}
                    <h5>Select an image: </h5>
                    <input type = "file" name = "image" id = "image" class = "txt" placeholder = "{{image}}" />

                    {{!-- INGREDIENTS --}}
                    <h5>Ingredients: </h5>
                    <div class = "ingredientList">
                        <div class = "ingredientDiv">
                            <input type = "text" name = "ingredients" class ="txt" placeholder = "{{ingredientss}}" />
                        </div>
                    </div>

                    <br>
                    <button type = "button" class = "btn" id = "addIngredientsBtn" >+ Ingredient</button>
                    <br>

                    {{!-- PREPARATION --}}
                    <h5>Preparation:</h5>
                    <div class = "preparationList">
                        <input type = "text" name = "preparation" class = "txt" placeholder = "{{preparations}}" />
                    </div>
                    <br>
                    
                    {{!-- BUTTON TO ADD PREPARATION --}}
                    <button type = "button" class = "btn" id = "addPrepBtn">+ Steps</button>
                    <br>
                    
                    {{!-- SUBMIT BUTTON --}}
                    {{!-- <button type = "submit" class = "btn">Submit Post</button> --}}
                    <input type = "submit" id = "post" value = "Edit Post"/>
                </form>

            {{/with}}
            {{!-- REMOVE --}}
            <p>To remove later :</p>
            <a href = "/">Home</a>
        </div>
    </body>
</html>

